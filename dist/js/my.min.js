var o="object"==typeof o?o:{};(o={init:function(){mapboxgl.accessToken="pk.eyJ1IjoidGhhdGJyYW0iLCJhIjoiY2p0YzM1NW9zMHM5MTN5cDRsdnJoOGw3byJ9.A7umZVt9Sx7Nb8jfN6M03g";let e=$.urlParam("mydocid");if(console.log("mydoc_id_queryStr_val: "+e),!1===e){o.loadMap().on("load",function(){$("#mydoc_map_status").hide(),$("#mydoc_map .alert").is(":visible")&&$("#mydoc_map .alert").removeAttr("style")})}else $("#mydoc_id_search_field").val(e),$("#mydoc_id_search_go").prop("disabled",!0),o.findMyDoC("url");$("#mydoc_id_search_field").on("input",function(){let o=$(this).val();(o=$.trim(o)).length>4?$("#mydoc_id_search_go").prop("disabled",!1):$("#mydoc_id_search_go").prop("disabled",!0)}),$("#mydoc_id_search_field").keypress(function(e){13===e.which&&o.findMyDoC("user")}),$("#mydoc_id_search_go").click(function(){o.findMyDoC("user")})},loadMap:function(o){$("#mydoc_map_status").show();var e=[-105.547222,39],a=6.5;return void 0!==o&&(void 0!==o.center&&(e=o.center),void 0!==o.zoom&&(a=o.zoom)),new mapboxgl.Map({container:"mydoc_map",style:"mapbox://styles/thatbram/cjtokh26902ad1fm43xqm4kv2",center:e,zoom:a})},findMyDoC:function(e){let a;switch(console.log("findMyDoC..."),$("#mydoc_map .alert").alert("close"),e){case"user":console.log("...source: user");var t=location.href.indexOf("?");console.log("qStr_idx: "+t),-1!==t&&history.pushState("",document.title,window.location.pathname),a=$("#mydoc_id_search_field").val(),a=$.trim(a);break;case"url":console.log("...source: url"),a=$.urlParam("mydocid")}a=a.toLowerCase(),console.log("mydoc_id_search_val: "+a);let s=!1,d=40.13,i=-105.514;if("alpha"===a&&(s=!0),s){let e=a;history.pushState("",document.title,"?mydocid="+e);let t=d,s=i,l=[s,t],m={center:l,zoom:15},c=o.loadMap(m);c.on("load",function(){console.log("findMyDoC mydoc_map.on(load)"),$("#mydoc_map_status").hide(),$("#mydoc_map .alert").is(":visible")&&$("#mydoc_map .alert").removeAttr("style");(new mapboxgl.Marker).setLngLat(l).addTo(c);var o={top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38],"bottom-left":[10,-40],"bottom-right":[-10,-40],left:[8,-30],right:[-8,-30]};mydoc_map_popup_template='<span class="mydoc_id">'+e+"</span><br>"+(t+", "+s)+'<br><a href="#">Details</a>',mydoc_map_popup=new mapboxgl.Popup({offset:o,className:"mydoc-map-popup"}).setLngLat([s,t]).setHTML(mydoc_map_popup_template).addTo(c)})}else{if(o.loadMap().on("load",function(){console.log("findMyDoC mydoc_map.on(load) - invalid id"),$("#mydoc_map_status").hide(),$("#mydoc_map .alert").is(":visible")&&$("#mydoc_map .alert").removeAttr("style")}),$("#mydoc_map").append('<div class="alert alert-danger alert-dismissible fade show" role="alert"><strong>DoC id not found.</strong> Please try again.<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>'),console.log("$(#mydoc_map_status).is(:visible): "+$("#mydoc_map_status").is(":visible")),$("#mydoc_map_status").is(":visible")){let o=$("#mydoc_map_status").outerHeight();$("#mydoc_map .alert:first").css("margin-top",o+16+"px")}}}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15LmpzIl0sIm5hbWVzIjpbIm15ZG9jIiwiaW5pdCIsIm1hcGJveGdsIiwiYWNjZXNzVG9rZW4iLCJteWRvY19pZF9xdWVyeVN0cl92YWwiLCIkIiwidXJsUGFyYW0iLCJjb25zb2xlIiwibG9nIiwibG9hZE1hcCIsIm9uIiwiaGlkZSIsImlzIiwicmVtb3ZlQXR0ciIsInZhbCIsInByb3AiLCJmaW5kTXlEb0MiLCJteWRvY19pZF9zZWFyY2hfdmFsIiwidGhpcyIsInRyaW0iLCJsZW5ndGgiLCJrZXlwcmVzcyIsImUiLCJ3aGljaCIsImNsaWNrIiwic2V0dGluZ3MiLCJzaG93IiwiY2VudGVyIiwiem9vbSIsIk1hcCIsImNvbnRhaW5lciIsInN0eWxlIiwic291cmNlIiwiYWxlcnQiLCJxU3RyX2lkeCIsImxvY2F0aW9uIiwiaHJlZiIsImluZGV4T2YiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiZG9jdW1lbnQiLCJ0aXRsZSIsIndpbmRvdyIsInBhdGhuYW1lIiwidG9Mb3dlckNhc2UiLCJteWRvY19pZF92YWxpZCIsIm15ZG9jX2RhdGEiLCJteWRvY19pZCIsIm15ZG9jX2xhdCIsIm15ZG9jX2xvbmciLCJteWRvY19sb2NfbWIiLCJteWRvY19tYXAiLCJNYXJrZXIiLCJzZXRMbmdMYXQiLCJhZGRUbyIsInBvcHVwT2Zmc2V0cyIsInRvcCIsInRvcC1sZWZ0IiwidG9wLXJpZ2h0IiwiYm90dG9tIiwiYm90dG9tLWxlZnQiLCJib3R0b20tcmlnaHQiLCJsZWZ0IiwicmlnaHQiLCJteWRvY19tYXBfcG9wdXBfdGVtcGxhdGUiLCJteWRvY19tYXBfcG9wdXAiLCJQb3B1cCIsIm9mZnNldCIsImNsYXNzTmFtZSIsInNldEhUTUwiLCJhcHBlbmQiLCJtYXBTdGF0dXNfaCIsIm91dGVySGVpZ2h0IiwiY3NzIl0sIm1hcHBpbmdzIjoiQUFDQSxJQUFJQSxFQUE2QixpQkFBWixFQUF5QkEsRUFBUSxJQUNyREEsRUFBUSxDQUNSQyxLQUFPLFdBQ05DLFNBQVNDLFlB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QUE0QmpCLEVBQVcsZUFGOUNDLEVBQVksS0FBT0MsR0FLcEMsOEJBSUhnQixnQkFBa0IsSUFBSS9ELFNBQVNnRSxNQUFNLENBQUNDLE9BQVFaLEVBQWNhLFVBQVcsb0JBQ3JFZixVQUFVLENBQUNKLEVBQVlELElBQ3ZCcUIsUUFBUUwsMEJBQ1JWLE1BQU1ILFNBRUgsQ0FrQk4sR0FqQmdCbkQsRUFBTVMsVUFFWkMsR0FBRyxPQUFRLFdBRXBCSCxRQUFRQyxJQUFJLDZDQUVaSCxFQUFFLHFCQUFxQk0sT0FFbEJOLEVBQUUscUJBQXFCTyxHQUFHLGFBQzlCUCxFQUFFLHFCQUFxQlEsV0FBVyxXQUlwQ1IsRUFBRSxjQUFjaUUsT0FBTyxtUUFFdkIvRCxRQUFRQyxJQUFLLHNDQUF5Q0gsRUFBRSxxQkFBcUJPLEdBQUcsYUFFM0VQLEVBQUUscUJBQXFCTyxHQUFHLFlBQWMsQ0FDNUMsSUFBSTJELEVBQWNsRSxFQUFFLHFCQUFxQm1FLGNBRXpDbkUsRUFBRSwyQkFBMkJvRSxJQUFJLGFBQWNGLEVBQWMsR0FBSyxXQVNuRXRFIiwiZmlsZSI6Im15Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBteS5qcyAqL1xudmFyIG15ZG9jID0gKCB0eXBlb2YgKG15ZG9jKSA9PT0gJ29iamVjdCcgKSA/IG15ZG9jIDoge307XG4obXlkb2MgPSB7XG5cdGluaXQgOiBmdW5jdGlvbiAoKSB7XG5cdFx0bWFwYm94Z2wuYWNjZXNzVG9rZW4gPSAncGsuZXlKMUlqb2lkR2hoZEdKeVlXMGlMQ0poSWpvaVkycDBZek0xTlc5ek1ITTVNVE41Y0RSc2RuSm9PR3czYnlKOS5BN3VtWlZ0OVN4N05iOGpmTjZNMDNnJztcblx0XHRsZXQgbXlkb2NfaWRfcXVlcnlTdHJfdmFsID0gJC51cmxQYXJhbSgnbXlkb2NpZCcpO1xuXG5cdFx0Y29uc29sZS5sb2coJ215ZG9jX2lkX3F1ZXJ5U3RyX3ZhbDogJyArIG15ZG9jX2lkX3F1ZXJ5U3RyX3ZhbCk7XG5cblx0XHRpZiAoIG15ZG9jX2lkX3F1ZXJ5U3RyX3ZhbCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRsZXQgbXlkb2NfbWFwID0gbXlkb2MubG9hZE1hcCgpO1xuXG5cdFx0XHRteWRvY19tYXAub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQoJyNteWRvY19tYXBfc3RhdHVzJykuaGlkZSgpO1xuXG5cdFx0XHRcdGlmICggJCgnI215ZG9jX21hcCAuYWxlcnQnKS5pcygnOnZpc2libGUnKSApIHtcblx0XHRcdFx0XHQkKCcjbXlkb2NfbWFwIC5hbGVydCcpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKCcjbXlkb2NfaWRfc2VhcmNoX2ZpZWxkJykudmFsKG15ZG9jX2lkX3F1ZXJ5U3RyX3ZhbCk7XG5cblx0XHRcdCQoJyNteWRvY19pZF9zZWFyY2hfZ28nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXG5cdFx0XHRteWRvYy5maW5kTXlEb0MoJ3VybCcpO1xuXHRcdH1cblxuXHRcdC8vICQoJyNteWRvY19tYXAnKS5hcHBlbmQoJzxkaXYgaWQ9XCJteWRvY19tYXBfc3RhdHVzXCIgY2xhc3M9XCJhbGVydCBhbGVydC1wcmltYXJ5IGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPjxzcGFuIGNsYXNzPVwic3Bpbm5lciBzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+TWFwIGxvYWRpbmcuLi48L2Rpdj4nKTtcblxuXHRcdCQoJyNteWRvY19pZF9zZWFyY2hfZmllbGQnKS5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRsZXQgbXlkb2NfaWRfc2VhcmNoX3ZhbCA9ICQodGhpcykudmFsKCk7XG5cdFx0XHRcdG15ZG9jX2lkX3NlYXJjaF92YWwgPSAkLnRyaW0obXlkb2NfaWRfc2VhcmNoX3ZhbCk7XG5cblx0XHRcdGlmIChteWRvY19pZF9zZWFyY2hfdmFsLmxlbmd0aCA+IDQpIHtcblx0XHRcdFx0JCgnI215ZG9jX2lkX3NlYXJjaF9nbycpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCgnI215ZG9jX2lkX3NlYXJjaF9nbycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkKCcjbXlkb2NfaWRfc2VhcmNoX2ZpZWxkJykua2V5cHJlc3MoIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRpZiAoZS53aGljaCA9PT0gMTMpIHtcblx0XHRcdFx0bXlkb2MuZmluZE15RG9DKCd1c2VyJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkKCcjbXlkb2NfaWRfc2VhcmNoX2dvJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcblx0XHRcdG15ZG9jLmZpbmRNeURvQygndXNlcicpO1xuXHRcdH0pO1xuXHR9XG5cdCxcblx0bG9hZE1hcCA6IGZ1bmN0aW9uIChzZXR0aW5ncykge1xuXHRcdC8qKiBPdXRzaWRlIHRoZSBtYXAgdmVyc2lvbiAqL1xuXHRcdC8vICQoJyNteWRvY19tYXBfc3RhdHVzJykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcblxuXHRcdC8qKiBJbnNpZGUgdGhlIG1hcCAobWluaW1hbGlzdCkgdmVyc2lvbiAqL1xuXHRcdCQoJyNteWRvY19tYXBfc3RhdHVzJykuc2hvdygpO1xuXG5cdFx0dmFyIGNlbnRlciA9IFstMTA1LjU0NzIyMiwgMzldO1xuXHRcdHZhciB6b29tID0gNi41O1xuXG5cdFx0aWYgKHR5cGVvZiBzZXR0aW5ncyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdC8qKiBJZiBubyBtYXAgY2VudGVyIGlzIHNwZWNpZmllZCwgc2V0IHRvIGdlb2dyYXBoaWMgY2VudGVyIG9mIENvbG9yYWRvICovXG5cdFx0XHRpZiAodHlwZW9mIHNldHRpbmdzLmNlbnRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0Y2VudGVyID0gc2V0dGluZ3MuY2VudGVyO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiogSWYgbm8gbWFwIHpvb20gbGV2ZWwgaXMgc3BlY2lmaWVkLCBzZXQgdG8gYSBsZXZlbCBtYWtpbmcgQ29sb3JhZG8gaWRlbnRpZmlhYmxlIGFjcm9zcyB3aWRlc3QgdmFyaWV0eSBvZiByZXNvbHV0aW9ucyAqL1xuXHRcdFx0aWYgKHR5cGVvZiBzZXR0aW5ncy56b29tICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHR6b29tID0gc2V0dGluZ3Muem9vbTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgbXlkb2NfbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XG5cdFx0XHRjb250YWluZXI6ICdteWRvY19tYXAnLFxuXHRcdFx0c3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvdGhhdGJyYW0vY2p0b2toMjY5MDJhZDFmbTQzeHFtNGt2MicsIC8vICdSYWRvIDJcblx0XHRcdGNlbnRlcjogY2VudGVyLFxuXHRcdFx0em9vbTogem9vbVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIG15ZG9jX21hcDtcblx0fVxuXHQsXG5cdGZpbmRNeURvQyA6IGZ1bmN0aW9uIChzb3VyY2UpIHtcblxuXHRcdGNvbnNvbGUubG9nKCdmaW5kTXlEb0MuLi4nKTtcblx0XHRcblx0XHQkKCcjbXlkb2NfbWFwIC5hbGVydCcpLmFsZXJ0KCdjbG9zZScpO1xuXG5cdFx0bGV0IG15ZG9jX2lkX3NlYXJjaF92YWw7XG5cblx0XHRzd2l0Y2ggKHNvdXJjZSkge1xuXHRcdFx0Y2FzZSAndXNlcic6XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJy4uLnNvdXJjZTogdXNlcicpO1xuXG5cdFx0XHRcdHZhciBxU3RyX2lkeCA9IGxvY2F0aW9uLmhyZWYuaW5kZXhPZignPycpO1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdxU3RyX2lkeDogJyArIHFTdHJfaWR4KTtcblxuXHRcdFx0XHRpZiAocVN0cl9pZHggIT09IC0xKSB7XG5cdFx0XHRcdFx0aGlzdG9yeS5wdXNoU3RhdGUoJycsIGRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bXlkb2NfaWRfc2VhcmNoX3ZhbCA9ICQoJyNteWRvY19pZF9zZWFyY2hfZmllbGQnKS52YWwoKTtcblx0XHRcdFx0bXlkb2NfaWRfc2VhcmNoX3ZhbCA9ICQudHJpbShteWRvY19pZF9zZWFyY2hfdmFsKTtcblx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAndXJsJzpcblxuXHRcdFx0XHRjb25zb2xlLmxvZygnLi4uc291cmNlOiB1cmwnKTtcblxuXHRcdFx0XHRsZXQgbXlkb2NfaWRfcXVlcnlTdHJfdmFsID0gJC51cmxQYXJhbSgnbXlkb2NpZCcpO1xuXHRcdFx0XHRteWRvY19pZF9zZWFyY2hfdmFsID0gbXlkb2NfaWRfcXVlcnlTdHJfdmFsO1xuXHRcdH1cblxuXHRcdG15ZG9jX2lkX3NlYXJjaF92YWwgPSBteWRvY19pZF9zZWFyY2hfdmFsLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRjb25zb2xlLmxvZygnbXlkb2NfaWRfc2VhcmNoX3ZhbDogJyArIG15ZG9jX2lkX3NlYXJjaF92YWwpO1xuXG5cdFx0bGV0IG15ZG9jX2lkX3ZhbGlkID0gZmFsc2U7XG5cblx0XHQvKiogXG5cdFx0ICogSW4gYW4gdXBjb21pbmcgdmVyc2lvbiwgXG5cdFx0ICogYXQgdGhpcyBwb2ludCBhIHJlcXVlc3QgaXMgbWFkZSBcblx0XHQgKiB0byB0aGUgbXlEb0MgZGF0YXN0b3JlIFxuXHRcdCAqIElmIGEgbWF0Y2ggaXMgZm91bmQsIFxuXHRcdCAqIGEgc3VjY2VzcyBzdGF0dXMgaXMgcmV0dXJuZWQgXG5cdFx0ICogd2l0aCB0aGUgZGF0YSBpbiB0aGUgcmVzcG9uc2UuXG5cdFx0ICpcblx0XHQgKiBGb3Igbm93LCB0aGVyZSBpcyB0aGlzLi4uXG5cdFx0ICovXG5cdFx0XG5cdFx0bGV0IG15ZG9jX2RhdGEgPSB7XG5cdFx0XHRkYXRlOiAnMjAxOS0wMy0xMScsXG5cdFx0XHRsYXQ6IDQwLjEzMCxcblx0XHRcdGxvbmc6IC0xMDUuNTE0XG5cdFx0fTtcblxuXHRcdC8qKiBNYXRjaGluZyBcImFscGhhXCIgaXMgdGhlIGRldiBwbGFjZWhvbGRlciBmb3IgbWF0Y2hpbmcgYSB2YWxpZCBJRCAqL1xuXHRcdGlmIChteWRvY19pZF9zZWFyY2hfdmFsID09PSAnYWxwaGEnKSB7XG5cdFx0XHRteWRvY19pZF92YWxpZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKG15ZG9jX2lkX3ZhbGlkKSB7XG5cdFx0XHRsZXQgbXlkb2NfaWQgPSBteWRvY19pZF9zZWFyY2hfdmFsO1xuXG5cdFx0XHQvKiogU2V0IGRpcmVjdGx5IGFjY2Vzc2libGUgVVJMICovXG5cdFx0XHRoaXN0b3J5LnB1c2hTdGF0ZSgnJywgZG9jdW1lbnQudGl0bGUsICc/bXlkb2NpZD0nICsgbXlkb2NfaWQpO1xuXG5cdFx0XHRsZXQgbXlkb2NfbGF0ID0gbXlkb2NfZGF0YS5sYXQ7XG5cdFx0XHRsZXQgbXlkb2NfbG9uZyA9IG15ZG9jX2RhdGEubG9uZztcblx0XHRcdGxldCBteWRvY19sb2NfbWIgPSBbbXlkb2NfbG9uZywgbXlkb2NfbGF0XTtcblxuXHRcdFx0bGV0IHNldHRpbmdzID0ge1xuXHRcdFx0XHRjZW50ZXI6IG15ZG9jX2xvY19tYixcblx0XHRcdFx0em9vbTogMTVcblx0XHRcdH1cblxuXHRcdFx0bGV0IG15ZG9jX21hcCA9IG15ZG9jLmxvYWRNYXAoc2V0dGluZ3MpO1xuXG5cdFx0XHRteWRvY19tYXAub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJ2ZpbmRNeURvQyBteWRvY19tYXAub24obG9hZCknKTtcblxuXHRcdFx0XHQkKCcjbXlkb2NfbWFwX3N0YXR1cycpLmhpZGUoKTtcblxuXHRcdFx0XHRpZiAoICQoJyNteWRvY19tYXAgLmFsZXJ0JykuaXMoJzp2aXNpYmxlJykgKSB7XG5cdFx0XHRcdFx0JCgnI215ZG9jX21hcCAuYWxlcnQnKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IG15ZG9jX21hcmtlciA9IG5ldyBtYXBib3hnbC5NYXJrZXIoKS5zZXRMbmdMYXQobXlkb2NfbG9jX21iKS5hZGRUbyhteWRvY19tYXApO1xuXG5cdFx0XHRcdHZhciBtYXJrZXJIZWlnaHQgPSAzOCxcblx0XHRcdFx0XHRtYXJrZXJSYWRpdXMgPSA4LFxuXHRcdFx0XHRcdGxpbmVhck9mZnNldCA9IDEwO1xuXG5cdFx0XHRcdHZhciBwb3B1cE9mZnNldHMgPSB7XG5cdFx0XHRcdFx0J3RvcCc6IFswLCAwXSxcblx0XHRcdFx0XHQndG9wLWxlZnQnOiBbMCwwXSxcblx0XHRcdFx0XHQndG9wLXJpZ2h0JzogWzAsMF0sXG5cdFx0XHRcdFx0J2JvdHRvbSc6IFswLCAtbWFya2VySGVpZ2h0XSxcblx0XHRcdFx0XHQnYm90dG9tLWxlZnQnOiBbbGluZWFyT2Zmc2V0LCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzICsgbGluZWFyT2Zmc2V0KSAqIC0xXSxcblx0XHRcdFx0XHQnYm90dG9tLXJpZ2h0JzogWy1saW5lYXJPZmZzZXQsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMgKyBsaW5lYXJPZmZzZXQpICogLTFdLFxuXHRcdFx0XHRcdCdsZWZ0JzogW21hcmtlclJhZGl1cywgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cykgKiAtMV0sXG5cdFx0XHRcdFx0J3JpZ2h0JzogWy1tYXJrZXJSYWRpdXMsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMpICogLTFdXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0bGV0IG15ZG9jX2xvY19zdHIgPSBteWRvY19sYXQgKyAnLCAnICsgbXlkb2NfbG9uZztcblxuXHRcdFx0XHRteWRvY19tYXBfcG9wdXBfdGVtcGxhdGUgPSAnPHNwYW4gY2xhc3M9XCJteWRvY19pZFwiPicgKyBteWRvY19pZCArICc8L3NwYW4+J1xuXHRcdFx0XHRcdCsgJzxicj4nXG5cdFx0XHRcdFx0KyBteWRvY19sb2Nfc3RyXG5cdFx0XHRcdFx0KyAnPGJyPidcblx0XHRcdFx0XHQrICc8YSBocmVmPVwiI1wiPkRldGFpbHM8L2E+J1xuXHRcdFx0XHQ7XG5cblx0XHRcdFx0bXlkb2NfbWFwX3BvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKHtvZmZzZXQ6IHBvcHVwT2Zmc2V0cywgY2xhc3NOYW1lOiAnbXlkb2MtbWFwLXBvcHVwJ30pXG5cdFx0XHRcdFx0LnNldExuZ0xhdChbbXlkb2NfbG9uZywgbXlkb2NfbGF0XSlcblx0XHRcdFx0XHQuc2V0SFRNTChteWRvY19tYXBfcG9wdXBfdGVtcGxhdGUpXG5cdFx0XHRcdFx0LmFkZFRvKG15ZG9jX21hcCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IG15ZG9jX21hcCA9IG15ZG9jLmxvYWRNYXAoKTtcblxuXHRcdFx0bXlkb2NfbWFwLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdmaW5kTXlEb0MgbXlkb2NfbWFwLm9uKGxvYWQpIC0gaW52YWxpZCBpZCcpO1xuXG5cdFx0XHRcdCQoJyNteWRvY19tYXBfc3RhdHVzJykuaGlkZSgpO1xuXG5cdFx0XHRcdGlmICggJCgnI215ZG9jX21hcCAuYWxlcnQnKS5pcygnOnZpc2libGUnKSApIHtcblx0XHRcdFx0XHQkKCcjbXlkb2NfbWFwIC5hbGVydCcpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQkKCcjbXlkb2NfbWFwJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyIGFsZXJ0LWRpc21pc3NpYmxlIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPjxzdHJvbmc+RG9DIGlkIG5vdCBmb3VuZC48L3N0cm9uZz4gUGxlYXNlIHRyeSBhZ2Fpbi48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwiYWxlcnRcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPjwvZGl2PicpO1xuXG5cdFx0XHRjb25zb2xlLmxvZyggJyQoI215ZG9jX21hcF9zdGF0dXMpLmlzKDp2aXNpYmxlKTogJyArICAkKCcjbXlkb2NfbWFwX3N0YXR1cycpLmlzKCc6dmlzaWJsZScpICk7XG5cblx0XHRcdGlmICggJCgnI215ZG9jX21hcF9zdGF0dXMnKS5pcygnOnZpc2libGUnKSApIHtcblx0XHRcdFx0bGV0IG1hcFN0YXR1c19oID0gJCgnI215ZG9jX21hcF9zdGF0dXMnKS5vdXRlckhlaWdodCgpO1xuXG5cdFx0XHRcdCQoJyNteWRvY19tYXAgLmFsZXJ0OmZpcnN0JykuY3NzKCdtYXJnaW4tdG9wJywgbWFwU3RhdHVzX2ggKyAxNiArICdweCcpO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiogQXV0b2Nsb3NlIHRoZSBhbGVydHMgKi9cblx0XHRcdC8qd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgJCgnI215ZG9jX21hcCAuYWxlcnQnKS5hbGVydCgnY2xvc2UnKTtcblx0ICAgICAgICB9LCA0MDAwKTsqL1xuXHRcdH1cblx0fVxufSkuaW5pdCgpO1xuIl19
