var o="object"==typeof o?o:{};(o={init:function(){mapboxgl.accessToken="pk.eyJ1IjoidGhhdGJyYW0iLCJhIjoiY2p0YzM1NW9zMHM5MTN5cDRsdnJoOGw3byJ9.A7umZVt9Sx7Nb8jfN6M03g";let e=$.urlParam("mydocid");if(console.log("mydoc_id_queryStr_val: "+e),!1===e){o.loadMap().on("load",function(){$("#mydoc_map_status").hide()})}else $("#mydoc_id_search_field").val(e),$("#mydoc_id_search_go").prop("disabled",!0),o.findMyDoC("url");$("#mydoc_id_search_field").on("input",function(){let o=$(this).val();(o=$.trim(o)).length>4?$("#mydoc_id_search_go").prop("disabled",!1):$("#mydoc_id_search_go").prop("disabled",!0)}),$("#mydoc_id_search_field").keypress(function(e){13===e.which&&o.findMyDoC("user")}),$("#mydoc_id_search_go").click(function(){o.findMyDoC("user")})},loadMap:function(o){$("#mydoc_map_status").show();var e=[-105.547222,39],a=6.5;return void 0!==o&&(void 0!==o.center&&(e=o.center),void 0!==o.zoom&&(a=o.zoom)),new mapboxgl.Map({container:"mydoc_map",style:"mapbox://styles/thatbram/cjtokh26902ad1fm43xqm4kv2",center:e,zoom:a})},findMyDoC:function(e){let a;switch(console.log("findMyDoC..."),e){case"user":console.log("...source: user");var t=location.href.indexOf("?");console.log("qStr_idx: "+t),-1!==t&&history.pushState("",document.title,window.location.pathname),a=$("#mydoc_id_search_field").val(),a=$.trim(a);break;case"url":console.log("...source: url"),a=$.urlParam("mydocid")}a=a.toLowerCase(),console.log("mydoc_id_search_val: "+a);let d=!1,i=40.13,l=-105.514;if("alpha"===a&&(d=!0),d){let e=a;history.pushState("",document.title,"?mydocid="+e);let t=i,d=l,s=[d,t],c={center:s,zoom:15},n=o.loadMap(c);n.on("load",function(){console.log("findMyDoC mydoc_map.on(load)"),$("#mydoc_map_status").hide();(new mapboxgl.Marker).setLngLat(s).addTo(n);var o={top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38],"bottom-left":[10,-40],"bottom-right":[-10,-40],left:[8,-30],right:[-8,-30]};mydoc_map_popup_template='<span class="mydoc_id">'+e+"</span><br>"+(t+", "+d)+'<br><a href="#">Details</a>',mydoc_map_popup=new mapboxgl.Popup({offset:o,className:"mydoc-map-popup"}).setLngLat([d,t]).setHTML(mydoc_map_popup_template).addTo(n)})}else $("#mydoc_map").append('<div class="alert alert-danger alert-dismissible fade show" role="alert"><strong>DoC id not found.</strong> Please try again.<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>'),window.setTimeout(function(){$("#mydoc_map .alert").alert("close")},4e3)}}).init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15LmpzIl0sIm5hbWVzIjpbIm15ZG9jIiwiaW5pdCIsIm1hcGJveGdsIiwiYWNjZXNzVG9rZW4iLCJteWRvY19pZF9xdWVyeVN0cl92YWwiLCIkIiwidXJsUGFyYW0iLCJjb25zb2xlIiwibG9nIiwibG9hZE1hcCIsIm9uIiwiaGlkZSIsInZhbCIsInByb3AiLCJmaW5kTXlEb0MiLCJteWRvY19pZF9zZWFyY2hfdmFsIiwidGhpcyIsInRyaW0iLCJsZW5ndGgiLCJrZXlwcmVzcyIsImUiLCJ3aGljaCIsImNsaWNrIiwic2V0dGluZ3MiLCJzaG93IiwiY2VudGVyIiwiem9vbSIsIk1hcCIsImNvbnRhaW5lciIsInN0eWxlIiwic291cmNlIiwicVN0cl9pZHgiLCJsb2NhdGlvbiIsImhyZWYiLCJpbmRleE9mIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImRvY3VtZW50IiwidGl0bGUiLCJ3aW5kb3ciLCJwYXRobmFtZSIsInRvTG93ZXJDYXNlIiwibXlkb2NfaWRfdmFsaWQiLCJteWRvY19kYXRhIiwibXlkb2NfaWQiLCJteWRvY19sYXQiLCJteWRvY19sb25nIiwibXlkb2NfbG9jX21iIiwibXlkb2NfbWFwIiwiTWFya2VyIiwic2V0TG5nTGF0IiwiYWRkVG8iLCJwb3B1cE9mZnNldHMiLCJ0b3AiLCJ0b3AtbGVmdCIsInRvcC1yaWdodCIsImJvdHRvbSIsImJvdHRvbS1sZWZ0IiwiYm90dG9tLXJpZ2h0IiwibGVmdCIsInJpZ2h0IiwibXlkb2NfbWFwX3BvcHVwX3RlbXBsYXRlIiwibXlkb2NfbWFwX3BvcHVwIiwiUG9wdXAiLCJvZmZzZXQiLCJjbGFzc05hbWUiLCJzZXRIVE1MIiwiYXBwZW5kIiwic2V0VGltZW91dCIsImFsZXJ0Il0sIm1hcHBpbmdzIjoiQUFDQSxJQUFJQSxFQUE2QixpQkFBWixFQUF5QkEsRUFBUSxJQUNyREEsRUFBUSxDQUNSQyxLQUFPLFdBQ05DLFNBQVNDLFlBQWMsNkZBQ3ZCLElBQUlDLEVBQXdCQyxFQUFFQyxTQUFTLFdBSXZD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RXZCNUIsT0FBTzZCLFdBQVksV0FDVC9ELEVBQUUscUJBQXFCZ0UsTUFBTSxVQUM5QixRQUdUcEUiLCJmaWxlIjoibXkubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIG15LmpzICovXG52YXIgbXlkb2MgPSAoIHR5cGVvZiAobXlkb2MpID09PSAnb2JqZWN0JyApID8gbXlkb2MgOiB7fTtcbihteWRvYyA9IHtcblx0aW5pdCA6IGZ1bmN0aW9uICgpIHtcblx0XHRtYXBib3hnbC5hY2Nlc3NUb2tlbiA9ICdway5leUoxSWpvaWRHaGhkR0p5WVcwaUxDSmhJam9pWTJwMFl6TTFOVzl6TUhNNU1UTjVjRFJzZG5Kb09HdzNieUo5LkE3dW1aVnQ5U3g3TmI4amZONk0wM2cnO1xuXHRcdGxldCBteWRvY19pZF9xdWVyeVN0cl92YWwgPSAkLnVybFBhcmFtKCdteWRvY2lkJyk7XG5cblx0XHRjb25zb2xlLmxvZygnbXlkb2NfaWRfcXVlcnlTdHJfdmFsOiAnICsgbXlkb2NfaWRfcXVlcnlTdHJfdmFsKTtcblxuXHRcdGlmICggbXlkb2NfaWRfcXVlcnlTdHJfdmFsID09PSBmYWxzZSApIHtcblx0XHRcdGxldCBteWRvY19tYXAgPSBteWRvYy5sb2FkTWFwKCk7XG5cblx0XHRcdG15ZG9jX21hcC5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0LyoqIE91dHNpZGUgdGhlIG1hcCB2ZXJzaW9uICovXG5cdFx0XHRcdC8vICQoJyNteWRvY19tYXBfc3RhdHVzJykuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xuXG5cdFx0XHRcdC8qKiBJbnNpZGUgdGhlIG1hcCAobWluaW1hbGlzdCkgdmVyc2lvbiAqL1xuXHRcdFx0XHQkKCcjbXlkb2NfbWFwX3N0YXR1cycpLmhpZGUoKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKCcjbXlkb2NfaWRfc2VhcmNoX2ZpZWxkJykudmFsKG15ZG9jX2lkX3F1ZXJ5U3RyX3ZhbCk7XG5cblx0XHRcdCQoJyNteWRvY19pZF9zZWFyY2hfZ28nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXG5cdFx0XHRteWRvYy5maW5kTXlEb0MoJ3VybCcpO1xuXHRcdH1cblxuXHRcdC8vICQoJyNteWRvY19tYXAnKS5hcHBlbmQoJzxkaXYgaWQ9XCJteWRvY19tYXBfc3RhdHVzXCIgY2xhc3M9XCJhbGVydCBhbGVydC1wcmltYXJ5IGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPjxzcGFuIGNsYXNzPVwic3Bpbm5lciBzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+TWFwIGxvYWRpbmcuLi48L2Rpdj4nKTtcblxuXHRcdCQoJyNteWRvY19pZF9zZWFyY2hfZmllbGQnKS5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRsZXQgbXlkb2NfaWRfc2VhcmNoX3ZhbCA9ICQodGhpcykudmFsKCk7XG5cdFx0XHRcdG15ZG9jX2lkX3NlYXJjaF92YWwgPSAkLnRyaW0obXlkb2NfaWRfc2VhcmNoX3ZhbCk7XG5cblx0XHRcdGlmIChteWRvY19pZF9zZWFyY2hfdmFsLmxlbmd0aCA+IDQpIHtcblx0XHRcdFx0JCgnI215ZG9jX2lkX3NlYXJjaF9nbycpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCgnI215ZG9jX2lkX3NlYXJjaF9nbycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkKCcjbXlkb2NfaWRfc2VhcmNoX2ZpZWxkJykua2V5cHJlc3MoIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRpZiAoZS53aGljaCA9PT0gMTMpIHtcblx0XHRcdFx0bXlkb2MuZmluZE15RG9DKCd1c2VyJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkKCcjbXlkb2NfaWRfc2VhcmNoX2dvJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcblx0XHRcdG15ZG9jLmZpbmRNeURvQygndXNlcicpO1xuXHRcdH0pO1xuXHR9XG5cdCxcblx0bG9hZE1hcCA6IGZ1bmN0aW9uIChzZXR0aW5ncykge1xuXHRcdC8qKiBPdXRzaWRlIHRoZSBtYXAgdmVyc2lvbiAqL1xuXHRcdC8vICQoJyNteWRvY19tYXBfc3RhdHVzJykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcblxuXHRcdC8qKiBJbnNpZGUgdGhlIG1hcCAobWluaW1hbGlzdCkgdmVyc2lvbiAqL1xuXHRcdCQoJyNteWRvY19tYXBfc3RhdHVzJykuc2hvdygpO1xuXG5cdFx0dmFyIGNlbnRlciA9IFstMTA1LjU0NzIyMiwgMzldO1xuXHRcdHZhciB6b29tID0gNi41O1xuXG5cdFx0aWYgKHR5cGVvZiBzZXR0aW5ncyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdC8qKiBJZiBubyBtYXAgY2VudGVyIGlzIHNwZWNpZmllZCwgc2V0IHRvIGdlb2dyYXBoaWMgY2VudGVyIG9mIENvbG9yYWRvICovXG5cdFx0XHRpZiAodHlwZW9mIHNldHRpbmdzLmNlbnRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0Y2VudGVyID0gc2V0dGluZ3MuY2VudGVyO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiogSWYgbm8gbWFwIHpvb20gbGV2ZWwgaXMgc3BlY2lmaWVkLCBzZXQgdG8gYSBsZXZlbCBtYWtpbmcgQ29sb3JhZG8gaWRlbnRpZmlhYmxlIGFjcm9zcyB3aWRlc3QgdmFyaWV0eSBvZiByZXNvbHV0aW9ucyAqL1xuXHRcdFx0aWYgKHR5cGVvZiBzZXR0aW5ncy56b29tICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHR6b29tID0gc2V0dGluZ3Muem9vbTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgbXlkb2NfbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XG5cdFx0XHRjb250YWluZXI6ICdteWRvY19tYXAnLFxuXHRcdFx0c3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvdGhhdGJyYW0vY2p0b2toMjY5MDJhZDFmbTQzeHFtNGt2MicsIC8vICdSYWRvIDJcblx0XHRcdGNlbnRlcjogY2VudGVyLFxuXHRcdFx0em9vbTogem9vbVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIG15ZG9jX21hcDtcblx0fVxuXHQsXG5cdGZpbmRNeURvQyA6IGZ1bmN0aW9uIChzb3VyY2UpIHtcblxuXHRcdGNvbnNvbGUubG9nKCdmaW5kTXlEb0MuLi4nKTtcblxuXHRcdGxldCBteWRvY19pZF9zZWFyY2hfdmFsO1xuXG5cdFx0c3dpdGNoIChzb3VyY2UpIHtcblx0XHRcdGNhc2UgJ3VzZXInOlxuXG5cdFx0XHRcdGNvbnNvbGUubG9nKCcuLi5zb3VyY2U6IHVzZXInKTtcblxuXHRcdFx0XHR2YXIgcVN0cl9pZHggPSBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJz8nKTtcblxuXHRcdFx0XHRjb25zb2xlLmxvZygncVN0cl9pZHg6ICcgKyBxU3RyX2lkeCk7XG5cblx0XHRcdFx0aWYgKHFTdHJfaWR4ICE9PSAtMSkge1xuXHRcdFx0XHRcdGhpc3RvcnkucHVzaFN0YXRlKCcnLCBkb2N1bWVudC50aXRsZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG15ZG9jX2lkX3NlYXJjaF92YWwgPSAkKCcjbXlkb2NfaWRfc2VhcmNoX2ZpZWxkJykudmFsKCk7XG5cdFx0XHRcdG15ZG9jX2lkX3NlYXJjaF92YWwgPSAkLnRyaW0obXlkb2NfaWRfc2VhcmNoX3ZhbCk7XG5cdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VybCc6XG5cblx0XHRcdFx0Y29uc29sZS5sb2coJy4uLnNvdXJjZTogdXJsJyk7XG5cblx0XHRcdFx0bGV0IG15ZG9jX2lkX3F1ZXJ5U3RyX3ZhbCA9ICQudXJsUGFyYW0oJ215ZG9jaWQnKTtcblx0XHRcdFx0bXlkb2NfaWRfc2VhcmNoX3ZhbCA9IG15ZG9jX2lkX3F1ZXJ5U3RyX3ZhbDtcblx0XHR9XG5cblx0XHRteWRvY19pZF9zZWFyY2hfdmFsID0gbXlkb2NfaWRfc2VhcmNoX3ZhbC50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0Y29uc29sZS5sb2coJ215ZG9jX2lkX3NlYXJjaF92YWw6ICcgKyBteWRvY19pZF9zZWFyY2hfdmFsKTtcblxuXHRcdGxldCBteWRvY19pZF92YWxpZCA9IGZhbHNlO1xuXG5cdFx0LyoqIFxuXHRcdCAqIEluIGFuIHVwY29taW5nIHZlcnNpb24sIFxuXHRcdCAqIGF0IHRoaXMgcG9pbnQgYSByZXF1ZXN0IGlzIG1hZGUgXG5cdFx0ICogdG8gdGhlIG15RG9DIGRhdGFzdG9yZSBcblx0XHQgKiBJZiBhIG1hdGNoIGlzIGZvdW5kLCBcblx0XHQgKiBhIHN1Y2Nlc3Mgc3RhdHVzIGlzIHJldHVybmVkIFxuXHRcdCAqIHdpdGggdGhlIGRhdGEgaW4gdGhlIHJlc3BvbnNlLlxuXHRcdCAqXG5cdFx0ICogRm9yIG5vdywgdGhlcmUgaXMgdGhpcy4uLlxuXHRcdCAqL1xuXHRcdFxuXHRcdGxldCBteWRvY19kYXRhID0ge1xuXHRcdFx0ZGF0ZTogJzIwMTktMDMtMTEnLFxuXHRcdFx0bGF0OiA0MC4xMzAsXG5cdFx0XHRsb25nOiAtMTA1LjUxNFxuXHRcdH07XG5cblx0XHQvKiogTWF0Y2hpbmcgXCJhbHBoYVwiIGlzIHRoZSBkZXYgcGxhY2Vob2xkZXIgZm9yIG1hdGNoaW5nIGEgdmFsaWQgSUQgKi9cblx0XHRpZiAobXlkb2NfaWRfc2VhcmNoX3ZhbCA9PT0gJ2FscGhhJykge1xuXHRcdFx0bXlkb2NfaWRfdmFsaWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChteWRvY19pZF92YWxpZCkge1xuXHRcdFx0bGV0IG15ZG9jX2lkID0gbXlkb2NfaWRfc2VhcmNoX3ZhbDtcblxuXHRcdFx0LyoqIFNldCBkaXJlY3RseSBhY2Nlc3NpYmxlIFVSTCAqL1xuXHRcdFx0aGlzdG9yeS5wdXNoU3RhdGUoJycsIGRvY3VtZW50LnRpdGxlLCAnP215ZG9jaWQ9JyArIG15ZG9jX2lkKTtcblxuXHRcdFx0bGV0IG15ZG9jX2xhdCA9IG15ZG9jX2RhdGEubGF0O1xuXHRcdFx0bGV0IG15ZG9jX2xvbmcgPSBteWRvY19kYXRhLmxvbmc7XG5cdFx0XHRsZXQgbXlkb2NfbG9jX21iID0gW215ZG9jX2xvbmcsIG15ZG9jX2xhdF07XG5cblx0XHRcdGxldCBzZXR0aW5ncyA9IHtcblx0XHRcdFx0Y2VudGVyOiBteWRvY19sb2NfbWIsXG5cdFx0XHRcdHpvb206IDE1XG5cdFx0XHR9XG5cblx0XHRcdGxldCBteWRvY19tYXAgPSBteWRvYy5sb2FkTWFwKHNldHRpbmdzKTtcblxuXHRcdFx0bXlkb2NfbWFwLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdmaW5kTXlEb0MgbXlkb2NfbWFwLm9uKGxvYWQpJyk7XG5cblx0XHRcdFx0LyoqIE91dHNpZGUgdGhlIG1hcCB2ZXJzaW9uICovXG5cdFx0XHRcdC8vICQoJyNteWRvY19tYXBfc3RhdHVzJykuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xuXG5cdFx0XHRcdC8qKiBJbnNpZGUgdGhlIG1hcCAobWluaW1hbGlzdCkgdmVyc2lvbiAqL1xuXHRcdFx0XHQkKCcjbXlkb2NfbWFwX3N0YXR1cycpLmhpZGUoKTtcblxuXHRcdFx0XHRsZXQgbXlkb2NfbWFya2VyID0gbmV3IG1hcGJveGdsLk1hcmtlcigpLnNldExuZ0xhdChteWRvY19sb2NfbWIpLmFkZFRvKG15ZG9jX21hcCk7XG5cblx0XHRcdFx0dmFyIG1hcmtlckhlaWdodCA9IDM4LFxuXHRcdFx0XHRcdG1hcmtlclJhZGl1cyA9IDgsXG5cdFx0XHRcdFx0bGluZWFyT2Zmc2V0ID0gMTA7XG5cblx0XHRcdFx0dmFyIHBvcHVwT2Zmc2V0cyA9IHtcblx0XHRcdFx0XHQndG9wJzogWzAsIDBdLFxuXHRcdFx0XHRcdCd0b3AtbGVmdCc6IFswLDBdLFxuXHRcdFx0XHRcdCd0b3AtcmlnaHQnOiBbMCwwXSxcblx0XHRcdFx0XHQnYm90dG9tJzogWzAsIC1tYXJrZXJIZWlnaHRdLFxuXHRcdFx0XHRcdCdib3R0b20tbGVmdCc6IFtsaW5lYXJPZmZzZXQsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMgKyBsaW5lYXJPZmZzZXQpICogLTFdLFxuXHRcdFx0XHRcdCdib3R0b20tcmlnaHQnOiBbLWxpbmVhck9mZnNldCwgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cyArIGxpbmVhck9mZnNldCkgKiAtMV0sXG5cdFx0XHRcdFx0J2xlZnQnOiBbbWFya2VyUmFkaXVzLCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzKSAqIC0xXSxcblx0XHRcdFx0XHQncmlnaHQnOiBbLW1hcmtlclJhZGl1cywgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cykgKiAtMV1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHRsZXQgbXlkb2NfbG9jX3N0ciA9IG15ZG9jX2xhdCArICcsICcgKyBteWRvY19sb25nO1xuXG5cdFx0XHRcdG15ZG9jX21hcF9wb3B1cF90ZW1wbGF0ZSA9ICc8c3BhbiBjbGFzcz1cIm15ZG9jX2lkXCI+JyArIG15ZG9jX2lkICsgJzwvc3Bhbj4nXG5cdFx0XHRcdFx0KyAnPGJyPidcblx0XHRcdFx0XHQrIG15ZG9jX2xvY19zdHJcblx0XHRcdFx0XHQrICc8YnI+J1xuXHRcdFx0XHRcdCsgJzxhIGhyZWY9XCIjXCI+RGV0YWlsczwvYT4nXG5cdFx0XHRcdDtcblxuXHRcdFx0XHRteWRvY19tYXBfcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoe29mZnNldDogcG9wdXBPZmZzZXRzLCBjbGFzc05hbWU6ICdteWRvYy1tYXAtcG9wdXAnfSlcblx0XHRcdFx0XHQuc2V0TG5nTGF0KFtteWRvY19sb25nLCBteWRvY19sYXRdKVxuXHRcdFx0XHRcdC5zZXRIVE1MKG15ZG9jX21hcF9wb3B1cF90ZW1wbGF0ZSlcblx0XHRcdFx0XHQuYWRkVG8obXlkb2NfbWFwKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKCcjbXlkb2NfbWFwJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyIGFsZXJ0LWRpc21pc3NpYmxlIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPjxzdHJvbmc+RG9DIGlkIG5vdCBmb3VuZC48L3N0cm9uZz4gUGxlYXNlIHRyeSBhZ2Fpbi48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwiYWxlcnRcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPjwvZGl2PicpO1xuXG5cdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAkKCcjbXlkb2NfbWFwIC5hbGVydCcpLmFsZXJ0KCdjbG9zZScpO1xuXHQgICAgICAgIH0sIDQwMDApO1xuXHRcdH1cblx0fVxufSkuaW5pdCgpO1xuIl19
