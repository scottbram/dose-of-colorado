var a;function o(){a=new mapboxgl.Map({container:"mydoc_map",style:"mapbox://styles/thatbram/cjtokh26902ad1fm43xqm4kv2",zoom:6,center:[-105.547222,39]})}console.log($.urlParam("mydocid")),mapboxgl.accessToken="pk.eyJ1IjoidGhhdGJyYW0iLCJhIjoiY2p0YzM1NW9zMHM5MTN5cDRsdnJoOGw3byJ9.A7umZVt9Sx7Nb8jfN6M03g",(a=new mapboxgl.Map({container:"mydoc_map",style:"mapbox://styles/thatbram/cjtiahjbp0nug1fm8qcymkp8v",zoom:6,center:[-105.547222,39]})).on("load",function(){-1!==location.href.indexOf("?")&&p("url")});var e,t,s,i,r,c,l,n="",d=!1,m="";function p(i){switch(i){case"user":e=$("#mydoc_id_search_field").val(),e=$.trim(e);break;case"url":var p=location.href.indexOf("?");p+=1;var h=location.href.substr(p,location.href.length);e=h,$("#mydoc_id_search_field").val(e)}console.log("mydoc_id_search_val: "+e);var _="alpha",f=40.13,y=-105.514;if("alpha"===e.toLowerCase()&&(d=!0),d){switch(n=_,i){case"user":o()}let e={mydoc_id:n};history.pushState(e,"","?"+n),m=(t=f)+", "+(s=y),r=[s,t],a.setCenter(r),a.setZoom(15),c=(new mapboxgl.Marker).setLngLat(r).addTo(a);var u={top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38],"bottom-left":[10,-40],"bottom-right":[-10,-40],left:[8,-30],right:[-8,-30]},b='<span class="mydoc_id">'+n+"</span><br>"+m+'<br><a href="#">Details</a>';l=new mapboxgl.Popup({offset:u,className:"mydoc-map-popup"}).setLngLat([s,t]).setHTML(b).addTo(a)}else $("#mydoc_map").append('<div class="alert alert-warning alert-dismissible fade show" role="alert"><strong>DoC id not found.</strong> Please try again.<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>'),window.setTimeout(function(){$("#mydoc_map .alert").alert("close")},4e3)}$("#mydoc_id_search_field").on("input",function(){e=$(this).val(),(e=$.trim(e)).length>4?$("#mydoc_id_search_go").prop("disabled",!1):$("#mydoc_id_search_go").prop("disabled",!0)}),$("#mydoc_id_search_field").keypress(function(a){13===a.which&&p("user")}),$("#mydoc_id_search_go").click(function(){p("user")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15Lm1pbi5qcyJdLCJuYW1lcyI6WyJteWRvY19tYXAiLCJsb2FkTWFwIiwibWFwYm94Z2wiLCJNYXAiLCJjb250YWluZXIiLCJzdHlsZSIsInpvb20iLCJjZW50ZXIiLCJjb25zb2xlIiwibG9nIiwiJCIsInVybFBhcmFtIiwiYWNjZXNzVG9rZW4iLCJvbiIsImxvY2F0aW9uIiwiaHJlZiIsImluZGV4T2YiLCJmaW5kTXlEb0MiLCJteWRvY19pZF9zZWFyY2hfdmFsIiwibXlkb2NfbGF0IiwibXlkb2NfbG9uZyIsIm15ZG9jX2xvYyIsIm15ZG9jX2xvY19tYiIsIm15ZG9jX21hcmtlciIsIm15ZG9jX21hcF9wb3B1cCIsIm15ZG9jX2lkIiwibXlkb2NfaWRfdmFsaWQiLCJteWRvY19sb2Nfc3RyIiwibXlkb2Nfc291cmNlIiwidmFsIiwidHJpbSIsInFTdHJfaWR4IiwicVN0ciIsInN1YnN0ciIsImxlbmd0aCIsIm15ZG9jX2RhdGEiLCJ0b0xvd2VyQ2FzZSIsInN0YXRlT2JqIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInNldENlbnRlciIsInNldFpvb20iLCJNYXJrZXIiLCJzZXRMbmdMYXQiLCJhZGRUbyIsInBvcHVwT2Zmc2V0cyIsInRvcCIsInRvcC1sZWZ0IiwidG9wLXJpZ2h0IiwiYm90dG9tIiwiYm90dG9tLWxlZnQiLCJib3R0b20tcmlnaHQiLCJsZWZ0IiwicmlnaHQiLCJteWRvY19tYXBfcG9wdXBfdGVtcGxhdGUiLCJQb3B1cCIsIm9mZnNldCIsImNsYXNzTmFtZSIsInNldEhUTUwiLCJhcHBlbmQiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwiYWxlcnQiLCJ0aGlzIiwicHJvcCIsImtleXByZXNzIiwiZSIsIndoaWNoIiwiY2xpY2siXSwibWFwcGluZ3MiOiJBQUlBLElBQUlBLEVBa0JKLFNBQVNDLElBQ1JELEVBQVksSUFBSUUsU0FBU0MsSUFBSSxDQUM1QkMsVUFBVyxZQUNYQyxNQUFPLHFEQUNQQyxLQUFNLEVBQ05DLE9BQVEsRUFBRSxX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
